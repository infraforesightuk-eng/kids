<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light only">
    <meta name="supported-color-schemes" content="light">
    <meta name="theme-color" content="#000000">

    <title>Nebula - Explore All</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="netflix-style.css">
    <link rel="stylesheet" href="search.css">
    <link rel="stylesheet" href="toast.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://kit.fontawesome.com/22dc8d85a3.js" crossorigin="anonymous"></script>
    <link rel="icon" href="src/assets/logo.svg">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'netflix-red': '#E50914',
                        'netflix-black': '#000000',
                        'netflix-dark': '#141414',
                        'netflix-gray': '#333333',
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            color-scheme: light only !important;
        }

        body {
            background-color: #000000 !important;
            color: #ffffff !important;
        }

        .see-all-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1.5rem;
        }

        @media (max-width: 640px) {
            .see-all-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 1rem;
            }
        }
    </style>
</head>

<body class="bg-netflix-black text-white min-h-screen">
    <!-- Navigation -->
    <header class="navbar-glass fixed top-0 w-full z-50 transition-all duration-500" id="navbar">
        <div class="relative z-10 flex items-center justify-between px-4 lg:px-16 py-4">
            <h1 class="text-netflix-red text-2xl lg:text-3xl font-bold cursor-pointer hover:text-white transition-colors flex items-center"
                onclick="home()">
                <img src="src/assets/logo.svg" alt="Nebula Logo"
                    class="w-8 h-8 lg:w-10 lg:h-10 mr-2 object-contain">Nebula
            </h1>

            <div class="flex items-center space-x-4">
                <button onclick="home()" class="text-white hover:text-netflix-red transition-colors flex items-center">
                    <i class="fa-solid fa-arrow-left mr-2"></i> Back to Home
                </button>
            </div>
        </div>
    </header>

    <main class="pt-24 px-4 lg:px-16 pb-20">
        <div class="flex flex-col mb-8">
            <h2 id="categoryTitle" class="text-3xl lg:text-4xl font-bold mb-2">Category Name</h2>
            <div class="h-1 w-20 bg-netflix-red rounded-full"></div>
        </div>

        <!-- Filters Section -->
        <div class="mb-8 p-6 bg-netflix-dark rounded-lg border border-gray-800 shadow-xl">
            <!-- Top Row: Primary Filters -->
            <div class="flex flex-col md:flex-row gap-4 mb-4">
                <!-- Provider Filter -->
                <div class="flex-1">
                    <label class="block text-gray-400 text-sm font-bold mb-2">Provider</label>
                    <select id="providerSelect"
                        class="w-full bg-gray-900 text-white border border-gray-700 rounded p-3 focus:outline-none focus:border-netflix-red transition-colors">
                        <option value="">All Providers</option>
                        <!-- Providers loaded via JS -->
                    </select>
                </div>

                <!-- Genre Filter -->
                <div class="flex-1">
                    <label class="block text-gray-400 text-sm font-bold mb-2">Genre</label>
                    <select id="genreSelect"
                        class="w-full bg-gray-900 text-white border border-gray-700 rounded p-3 focus:outline-none focus:border-netflix-red transition-colors">
                        <option value="">All Genres</option>
                        <!-- Genres loaded via JS -->
                    </select>
                </div>

                <!-- Sort Filter -->
                <div class="flex-1">
                    <label class="block text-gray-400 text-sm font-bold mb-2">Sort By</label>
                    <select id="sortSelect"
                        class="w-full bg-gray-900 text-white border border-gray-700 rounded p-3 focus:outline-none focus:border-netflix-red transition-colors">
                        <option value="popularity.desc">Popularity</option>
                        <option value="vote_average.desc">Top Rated</option>
                        <option value="primary_release_date.desc">Newest Releases</option>
                    </select>
                </div>
            </div>

            <!-- Toggle Advanced Filters -->
            <button id="toggleAdvancedFilters"
                class="text-netflix-red hover:text-white text-sm font-semibold flex items-center mb-4 transition-colors">
                <i class="fa-solid fa-sliders mr-2"></i> More Filters
            </button>

            <!-- Advanced Filters (Hidden by default) -->
            <div id="advancedFilters"
                class="hidden grid grid-cols-1 md:grid-cols-4 gap-4 border-t border-gray-800 pt-4">
                <!-- Era Filter -->
                <div>
                    <label class="block text-gray-400 text-sm font-bold mb-2">Era</label>
                    <select id="eraSelect"
                        class="w-full bg-gray-900 text-white border border-gray-700 rounded p-3 focus:outline-none focus:border-netflix-red transition-colors">
                        <option value="">Any Time</option>
                        <option value="2024">Released this year</option>
                        <option value="2020s">2020s</option>
                        <option value="2010s">2010s</option>
                        <option value="2000s">2000s</option>
                        <option value="90s">90s</option>
                        <option value="classic">Classic (Pre-1990)</option>
                    </select>
                </div>

                <!-- Min Rating -->
                <div>
                    <label class="block text-gray-400 text-sm font-bold mb-2">Min Rating</label>
                    <select id="ratingSelect"
                        class="w-full bg-gray-900 text-white border border-gray-700 rounded p-3 focus:outline-none focus:border-netflix-red transition-colors">
                        <option value="">Any Rating</option>
                        <option value="5">OK (> 5.0)</option>
                        <option value="7">Good (> 7.0)</option>
                        <option value="8">Great (> 8.0)</option>
                        <option value="8.5">Masterpiece (> 8.5)</option>
                    </select>
                </div>

                <!-- Vibe Picker -->
                <div>
                    <label class="block text-gray-400 text-sm font-bold mb-2 flex items-center">
                        Vibe <i class="fa-solid fa-sparkles text-yellow-400 ml-2 animate-pulse"></i>
                    </label>
                    <select id="vibeSelect"
                        class="w-full bg-gray-900 text-white border border-gray-700 rounded p-3 focus:outline-none focus:border-netflix-red transition-colors">
                        <option value="">No specific vibe</option>
                        <option value="adrenaline">Adrenaline Rush</option>
                        <option value="feel_good">Feel Good / Comfort</option>
                        <option value="mind_bending">Mind Bending</option>
                        <option value="dark_gritty">Dark & Gritty</option>
                        <option value="romantic">Love & Romance</option>
                        <option value="tearjerker">Emotional / Tearjerker</option>
                    </select>
                </div>

                <!-- Age Limit -->
                <div>
                    <label class="block text-gray-400 text-sm font-bold mb-2">Age Limit</label>
                    <select id="ageLimitSelect"
                        class="w-full bg-gray-900 text-white border border-gray-700 rounded p-3 focus:outline-none focus:border-netflix-red transition-colors">
                        <option value="">Default (TV-14)</option>
                        <option value="TV-G">All Ages (TV-G)</option>
                        <option value="TV-PG">Ages 7+ (TV-PG)</option>
                        <option value="TV-14">Ages 13+ (TV-14)</option>
                        <option value="TV-MA">Ages 16+ (TV-MA)</option>
                    </select>
                </div>
            </div>

            <!-- Reset Button -->
            <div class="mt-4 flex justify-end">
                <button id="resetFilters" class="text-gray-400 hover:text-white text-sm underline transition-colors">
                    Reset All Filters
                </button>
            </div>
        </div>

        <!-- Grid Container -->
        <div id="seeAllGrid" class="see-all-grid">
            <!-- Content will be populated here -->
        </div>

        <!-- Loading Spinner -->
        <div id="loading" class="flex justify-center items-center py-10">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-netflix-red"></div>
        </div>

        <!-- Load More Button -->
        <div id="loadMoreContainer" class="flex justify-center mt-12 hidden">
            <button id="loadMoreBtn"
                class="bg-netflix-red text-white px-8 py-3 rounded-md font-semibold hover:bg-red-700 transition-colors">
                Load More
            </button>
        </div>
    </main>

    <!-- Modal for Movie Details (Reusing logic from home.js) -->
    <div id="movieModal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4">
        <div class="fixed inset-0 bg-black/80 transition-opacity" onclick="closeModal()"></div>
        <div
            class="modal-content relative bg-netflix-dark w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-lg shadow-2xl custom-scrollbar">
            <!-- Modal header with image -->
            <div class="relative h-64 sm:h-96">
                <img id="modalBackdrop" src="" alt="" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-netflix-dark via-transparent to-transparent"></div>
                <button onclick="closeModal()"
                    class="absolute top-4 right-4 bg-black/50 hover:bg-black/75 text-white p-2 rounded-full transition-colors">
                    <i class="fa-solid fa-times text-xl"></i>
                </button>
            </div>

            <div class="p-6 lg:p-10">
                <div class="flex flex-col lg:flex-row gap-8">
                    <div class="w-48 flex-shrink-0 hidden lg:block">
                        <img id="modalPoster" src="" alt="" class="w-full rounded-lg shadow-xl">
                    </div>
                    <div class="flex-1 text-white">
                        <h2 id="modalTitle" class="text-3xl lg:text-5xl font-bold mb-4"></h2>
                        <div class="flex flex-wrap items-center gap-4 mb-6 text-gray-400">
                            <span id="modalRating" class="flex items-center text-yellow-500 font-bold">
                                <i class="fa-solid fa-star mr-1"></i>
                                <span></span>
                            </span>
                            <span id="modalYear"></span>
                            <span id="modalRuntime"></span>
                        </div>
                        <p id="modalOverview" class="text-gray-300 text-lg leading-relaxed mb-8"></p>

                        <div class="flex gap-4">
                            <button id="modalPlayBtn"
                                class="bg-white text-black px-8 py-3 rounded font-bold hover:bg-gray-200 transition-colors flex items-center">
                                <i class="fa-solid fa-play mr-2"></i> Play Now
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Search Modal (Placeholder to prevent errors if search.js expects it) -->
    <div id="searchModal" class="hidden"></div>

    <script src="src/see-all.js"></script>
    <script>
        function home() { window.location.href = 'index.html'; }
    </script>
</body>

</html>