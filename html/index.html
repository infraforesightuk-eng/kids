<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Force light mode meta tags for aggressive browsers -->
    <meta name="color-scheme" content="light only">
    <meta name="supported-color-schemes" content="light">
    <meta name="theme-color" content="#000000">
    <meta name="msapplication-navbutton-color" content="#000000">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- ANTI-FORCED-DARK-MODE SCRIPT - Must run before page load -->
    <script>
        // Detect and counteract forced dark mode at rendering engine level
        (function () {
            'use strict';

            // Flag to track if forced dark mode is detected
            let forcedDarkDetected = false;

            // Create a test element to detect color inversion
            function detectForcedDarkMode() {
                const testDiv = document.createElement('div');
                testDiv.style.cssText = `
                    position: fixed !important;
                    top: -1000px !important;
                    left: -1000px !important;
                    width: 1px !important;
                    height: 1px !important;
                    background-color: rgb(255, 255, 255) !important;
                    color: rgb(0, 0, 0) !important;
                    z-index: -9999 !important;
                    pointer-events: none !important;
                `;
                document.documentElement.appendChild(testDiv);

                setTimeout(() => {
                    const computed = window.getComputedStyle(testDiv);
                    const bgColor = computed.backgroundColor;
                    const textColor = computed.color;

                    // If white background becomes dark or black text becomes light, forced dark mode is active
                    if (bgColor.includes('0, 0, 0') || bgColor.includes('rgb(0') ||
                        textColor.includes('255, 255, 255') || textColor.includes('rgb(255')) {
                        forcedDarkDetected = true;
                        console.log('ðŸ›¡ï¸ Forced dark mode detected - Activating countermeasures');
                        applyAntiForcedDarkMode();
                    }

                    testDiv.remove();
                }, 100);
            }

            // Apply counter-filters to neutralize forced dark mode
            function applyAntiForcedDarkMode() {
                const style = document.createElement('style');
                style.id = 'anti-forced-dark-mode';
                style.textContent = `
                    /* COUNTER-ATTACK: Neutralize browser forced dark mode */
                    html {
                        filter: invert(1) hue-rotate(180deg) !important;
                        -webkit-filter: invert(1) hue-rotate(180deg) !important;
                    }
                    
                    /* Re-invert images, videos, and logos to restore original colors */
                    img, video, svg, picture, canvas,
                    .logo, [class*="logo"], #logo,
                    img[src*="logo"], img[alt*="logo"],
                    img[src*="Logo"], img[alt*="Logo"] {
                        filter: invert(1) hue-rotate(180deg) !important;
                        -webkit-filter: invert(1) hue-rotate(180deg) !important;
                    }
                    
                    /* Ensure Netflix red stays red */
                    .text-netflix-red, .bg-netflix-red {
                        filter: invert(1) hue-rotate(180deg) !important;
                        -webkit-filter: invert(1) hue-rotate(180deg) !important;
                    }
                `;
                document.head.appendChild(style);

                // Continuously monitor and reapply if browser tries to override
                setInterval(checkAndReapply, 1000);
            }

            // Continuously check if our counter-filters are still applied
            function checkAndReapply() {
                if (!forcedDarkDetected) return;

                const antiStyle = document.getElementById('anti-forced-dark-mode');
                if (!antiStyle) {
                    console.log('ðŸ”„ Reapplying anti-forced-dark-mode protection');
                    applyAntiForcedDarkMode();
                }
            }

            // Run detection when DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', detectForcedDarkMode);
            } else {
                detectForcedDarkMode();
            }

            // Also run detection after a delay to catch late-applied forced dark mode
            setTimeout(detectForcedDarkMode, 500);
            setTimeout(detectForcedDarkMode, 1500);

            // Monitor for dynamic style changes
            const observer = new MutationObserver((mutations) => {
                mutations.forEach((mutation) => {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                        setTimeout(detectForcedDarkMode, 100);
                    }
                });
            });

            // Start observing
            if (document.documentElement) {
                observer.observe(document.documentElement, {
                    attributes: true,
                    attributeFilter: ['style', 'class']
                });
            }

        })();
    </script>

    <title>Nebula - Discover Amazing Movies & TV Shows</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
    <link rel="stylesheet" href="netflix-style.css">
    <link rel="stylesheet" href="search.css">
    <link rel="stylesheet" href="toast.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://kit.fontawesome.com/22dc8d85a3.js" crossorigin="anonymous"></script>
    <!-- Font Awesome CDN fallback (added) -->
    <link id="fa-cdn-fallback" rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous"
        referrerpolicy="no-referrer" />
    <script>(function () { function loadCDN() { if (document.getElementById('fa-cdn-fallback')) return; var l = document.createElement('link'); l.id = 'fa-cdn-fallback'; l.rel = 'stylesheet'; l.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css'; l.crossOrigin = 'anonymous'; l.referrerPolicy = 'no-referrer'; document.head.appendChild(l); } function isLoaded() { if (window.FontAwesome) return true; if (document.querySelector('svg.svg-inline--fa')) return true; try { var i = document.createElement('i'); i.className = 'fa-solid fa-circle'; i.style.position = 'absolute'; i.style.visibility = 'hidden'; document.body.appendChild(i); var ff = window.getComputedStyle(i).getPropertyValue('font-family') || ''; var loaded = ff.toLowerCase().indexOf('fontawesome') !== -1 || i.offsetWidth > 0; document.body.removeChild(i); return loaded } catch (e) { return false } } if (!isLoaded()) { setTimeout(function () { if (!isLoaded()) loadCDN(); }, 1000); window.addEventListener('load', function () { if (!isLoaded()) loadCDN(); }); } })();</script>
    <link rel="icon" href="src/assets/logo.svg">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'netflix-red': '#E50914',
                        'netflix-black': '#000000',
                        'netflix-dark': '#141414',
                        'netflix-gray': '#333333',
                    }
                }
            }
        }
    </script>
    <style>
        /* MAXIMUM FORCE: Block ALL dark mode attempts */
        :root {
            color-scheme: light only !important;
            -webkit-color-scheme: light only !important;
            supported-color-schemes: light !important;
        }

        *,
        *::before,
        *::after {
            color-scheme: light only !important;
            -webkit-color-scheme: light only !important;
            forced-color-adjust: none !important;
            -webkit-forced-color-adjust: none !important;
            filter: none !important;
            -webkit-filter: none !important;
            -moz-filter: none !important;
            -ms-filter: none !important;
            -o-filter: none !important;
        }

        html,
        body {
            color-scheme: light only !important;
            -webkit-color-scheme: light only !important;
            forced-color-adjust: none !important;
            -webkit-forced-color-adjust: none !important;
            background-color: #000000 !important;
        }

        /* IMAGES AND LOGOS: Prevent any color modifications */
        img,
        svg,
        picture,
        canvas,
        video {
            color-scheme: light only !important;
            -webkit-color-scheme: light only !important;
            forced-color-adjust: none !important;
            -webkit-forced-color-adjust: none !important;
            filter: none !important;
            -webkit-filter: none !important;
            -moz-filter: none !important;
            -ms-filter: none !important;
            -o-filter: none !important;
            mix-blend-mode: normal !important;
            isolation: isolate !important;
        }

        /* Specific logo protection */
        .logo,
        [class*="logo"],
        #logo,
        img[src*="logo"],
        img[alt*="logo"],
        img[src*="Logo"],
        img[alt*="Logo"] {
            filter: none !important;
            -webkit-filter: none !important;
            forced-color-adjust: none !important;
            -webkit-forced-color-adjust: none !important;
            mix-blend-mode: normal !important;
            isolation: isolate !important;
        }

        /* Block dark mode media queries COMPLETELY */
        @media (prefers-color-scheme: dark) {

            *,
            *::before,
            *::after {
                color-scheme: light only !important;
                -webkit-color-scheme: light only !important;
                forced-color-adjust: none !important;
                -webkit-forced-color-adjust: none !important;
                filter: none !important;
                -webkit-filter: none !important;
            }

            html,
            body {
                background-color: #000000 !important;
                color: #ffffff !important;
            }

            img,
            svg,
            picture,
            canvas,
            video {
                filter: none !important;
                -webkit-filter: none !important;
                forced-color-adjust: none !important;
                -webkit-forced-color-adjust: none !important;
            }
        }

        /* Ensure backgrounds and colors are preserved */
        .bg-netflix-black,
        .bg-netflix-dark,
        .bg-black,
        [class*="bg-"] {
            forced-color-adjust: none !important;
            -webkit-forced-color-adjust: none !important;
            filter: none !important;
            -webkit-filter: none !important;
        }

        /* Prevent text color modifications */
        .text-white,
        .text-netflix-red,
        .text-red-600,
        .text-gray-400,
        .text-gray-300,
        .text-gray-200,
        [class*="text-"] {
            forced-color-adjust: none !important;
            -webkit-forced-color-adjust: none !important;
            filter: none !important;
            -webkit-filter: none !important;
        }

        /* Lock all light colors and prevent dark mode conversion */
        .text-gray-400 {
            color: #9ca3af !important;
        }

        .text-gray-300 {
            color: #d1d5db !important;
        }

        .text-gray-200 {
            color: #e5e7eb !important;
        }

        .text-gray-100 {
            color: #f3f4f6 !important;
        }

        .bg-gray-800 {
            background-color: #1f2937 !important;
        }

        .bg-gray-900 {
            background-color: #111827 !important;
        }

        /* Lock Netflix brand colors */
        .text-netflix-red {
            color: #E50914 !important;
        }

        .bg-netflix-red {
            background-color: #E50914 !important;
        }

        .bg-netflix-black {
            background-color: #000000 !important;
        }

        .bg-netflix-dark {
            background-color: #141414 !important;
        }

        .text-white {
            color: #ffffff !important;
        }

        .bg-black {
            background-color: #000000 !important;
        }

        /* Force borders and outlines to maintain colors */
        .border-gray-600 {
            border-color: #4b5563 !important;
        }

        .border-gray-700 {
            border-color: #374151 !important;
        }

        /* Override any browser-imposed styles */
        input,
        textarea,
        select,
        button {
            color-scheme: light only !important;
            -webkit-color-scheme: light only !important;
            forced-color-adjust: none !important;
            -webkit-forced-color-adjust: none !important;
        }

        /* Prevent shadow color changes */
        .shadow-lg,
        .shadow-xl,
        [class*="shadow-"] {
            forced-color-adjust: none !important;
            -webkit-forced-color-adjust: none !important;
        }

        /* Force all containers to respect original colors */
        div,
        section,
        article,
        aside,
        main,
        header,
        footer,
        nav {
            forced-color-adjust: none !important;
            -webkit-forced-color-adjust: none !important;
            filter: none !important;
            -webkit-filter: none !important;
        }

        @keyframes textGlowBuildUp {
            0% {
                text-shadow:
                    0 0 5px rgba(229, 9, 20, 0.3),
                    0 0 10px rgba(229, 9, 20, 0.2),
                    2px 2px 4px rgba(0, 0, 0, 0.8);
                filter: brightness(1.1);
                transform: scale(1);
            }

            5% {
                text-shadow:
                    0 0 6px rgba(229, 9, 20, 0.35),
                    0 0 12px rgba(229, 9, 20, 0.25),
                    0 0 18px rgba(229, 9, 20, 0.15),
                    2px 2px 4px rgba(0, 0, 0, 0.8);
                filter: brightness(1.12);
                transform: scale(1.001);
            }

            10% {
                text-shadow:
                    0 0 7px rgba(229, 9, 20, 0.4),
                    0 0 14px rgba(229, 9, 20, 0.3),
                    0 0 21px rgba(229, 9, 20, 0.2),
                    2px 2px 4px rgba(0, 0, 0, 0.8);
                filter: brightness(1.14);
                transform: scale(1.002);
            }

            15% {
                text-shadow:
                    0 0 8px rgba(229, 9, 20, 0.45),
                    0 0 16px rgba(229, 9, 20, 0.35),
                    0 0 24px rgba(229, 9, 20, 0.25),
                    2px 2px 4px rgba(0, 0, 0, 0.8);
                filter: brightness(1.16);
                transform: scale(1.004);
            }

            20% {
                text-shadow:
                    0 0 9px rgba(229, 9, 20, 0.5),
                    0 0 18px rgba(229, 9, 20, 0.4),
                    0 0 27px rgba(229, 9, 20, 0.3),
                    2px 2px 4px rgba(0, 0, 0, 0.8);
                filter: brightness(1.18);
                transform: scale(1.006);
            }

            25% {
                text-shadow:
                    0 0 12px rgba(229, 9, 20, 0.6),
                    0 0 24px rgba(229, 9, 20, 0.4),
                    0 0 36px rgba(229, 9, 20, 0.3),
                    2px 2px 4px rgba(0, 0, 0, 0.8);
                filter: brightness(1.2) contrast(1.05);
                transform: scale(1.008);
            }

            30% {
                text-shadow:
                    0 0 13px rgba(229, 9, 20, 0.65),
                    0 0 26px rgba(229, 9, 20, 0.45),
                    0 0 39px rgba(229, 9, 20, 0.35),
                    0 0 52px rgba(229, 9, 20, 0.25),
                    2px 2px 5px rgba(0, 0, 0, 0.8);
                filter: brightness(1.22) contrast(1.06);
                transform: scale(1.012);
            }

            35% {
                text-shadow:
                    0 0 14px rgba(229, 9, 20, 0.7),
                    0 0 28px rgba(229, 9, 20, 0.5),
                    0 0 42px rgba(229, 9, 20, 0.4),
                    0 0 56px rgba(229, 9, 20, 0.3),
                    2px 2px 5px rgba(0, 0, 0, 0.8);
                filter: brightness(1.24) contrast(1.07);
                transform: scale(1.016);
            }

            40% {
                text-shadow:
                    0 0 15px rgba(229, 9, 20, 0.75),
                    0 0 30px rgba(229, 9, 20, 0.55),
                    0 0 45px rgba(229, 9, 20, 0.45),
                    0 0 60px rgba(229, 9, 20, 0.35),
                    2px 2px 5px rgba(0, 0, 0, 0.8);
                filter: brightness(1.26) contrast(1.08);
                transform: scale(1.02);
            }

            45% {
                text-shadow:
                    0 0 16px rgba(229, 9, 20, 0.8),
                    0 0 32px rgba(229, 9, 20, 0.6),
                    0 0 48px rgba(229, 9, 20, 0.5),
                    0 0 64px rgba(229, 9, 20, 0.4),
                    2px 2px 5px rgba(0, 0, 0, 0.8);
                filter: brightness(1.28) contrast(1.09);
                transform: scale(1.024);
            }

            50% {
                text-shadow:
                    0 0 18px rgba(229, 9, 20, 0.8),
                    0 0 36px rgba(229, 9, 20, 0.6),
                    0 0 54px rgba(229, 9, 20, 0.4),
                    0 0 72px rgba(229, 9, 20, 0.3),
                    2px 2px 6px rgba(0, 0, 0, 0.8);
                filter: brightness(1.3) contrast(1.1);
                transform: scale(1.028);
            }

            55% {
                text-shadow:
                    0 0 19px rgba(229, 9, 20, 0.85),
                    0 0 38px rgba(229, 9, 20, 0.65),
                    0 0 57px rgba(229, 9, 20, 0.45),
                    0 0 76px rgba(229, 9, 20, 0.35),
                    0 0 95px rgba(229, 9, 20, 0.25),
                    2px 2px 6px rgba(0, 0, 0, 0.85);
                filter: brightness(1.32) contrast(1.11);
                transform: scale(1.032);
            }

            60% {
                text-shadow:
                    0 0 20px rgba(229, 9, 20, 0.9),
                    0 0 40px rgba(229, 9, 20, 0.7),
                    0 0 60px rgba(229, 9, 20, 0.5),
                    0 0 80px rgba(229, 9, 20, 0.4),
                    0 0 100px rgba(229, 9, 20, 0.3),
                    2px 2px 6px rgba(0, 0, 0, 0.85);
                filter: brightness(1.34) contrast(1.12);
                transform: scale(1.036);
            }

            65% {
                text-shadow:
                    0 0 21px rgba(229, 9, 20, 0.95),
                    0 0 42px rgba(229, 9, 20, 0.75),
                    0 0 63px rgba(229, 9, 20, 0.55),
                    0 0 84px rgba(229, 9, 20, 0.45),
                    0 0 105px rgba(229, 9, 20, 0.35),
                    2px 2px 6px rgba(0, 0, 0, 0.9);
                filter: brightness(1.36) contrast(1.13);
                transform: scale(1.038);
            }

            70% {
                text-shadow:
                    0 0 22px rgba(229, 9, 20, 1),
                    0 0 44px rgba(229, 9, 20, 0.8),
                    0 0 66px rgba(229, 9, 20, 0.6),
                    0 0 88px rgba(229, 9, 20, 0.5),
                    0 0 110px rgba(229, 9, 20, 0.4),
                    2px 2px 6px rgba(0, 0, 0, 0.9);
                filter: brightness(1.38) contrast(1.14);
                transform: scale(1.04);
            }

            75% {
                text-shadow:
                    0 0 22px rgba(229, 9, 20, 0.9),
                    0 0 44px rgba(229, 9, 20, 0.7),
                    0 0 66px rgba(229, 9, 20, 0.5),
                    0 0 88px rgba(229, 9, 20, 0.4),
                    0 0 110px rgba(229, 9, 20, 0.3),
                    2px 2px 6px rgba(0, 0, 0, 0.9);
                filter: brightness(1.35) contrast(1.13);
                transform: scale(1.041);
            }

            80% {
                text-shadow:
                    0 0 23px rgba(229, 9, 20, 1),
                    0 0 46px rgba(229, 9, 20, 0.8),
                    0 0 69px rgba(229, 9, 20, 0.6),
                    0 0 92px rgba(229, 9, 20, 0.5),
                    0 0 115px rgba(229, 9, 20, 0.4),
                    0 0 138px rgba(229, 9, 20, 0.3),
                    2px 2px 6px rgba(0, 0, 0, 0.9);
                filter: brightness(1.37) contrast(1.14);
                transform: scale(1.042);
            }

            85% {
                text-shadow:
                    0 0 24px rgba(229, 9, 20, 1),
                    0 0 48px rgba(229, 9, 20, 0.8),
                    0 0 72px rgba(229, 9, 20, 0.6),
                    0 0 96px rgba(229, 9, 20, 0.5),
                    0 0 120px rgba(229, 9, 20, 0.4),
                    0 0 144px rgba(229, 9, 20, 0.3),
                    2px 2px 6px rgba(0, 0, 0, 0.9);
                filter: brightness(1.39) contrast(1.145);
                transform: scale(1.043);
            }

            90% {
                text-shadow:
                    0 0 24px rgba(229, 9, 20, 1),
                    0 0 48px rgba(229, 9, 20, 0.8),
                    0 0 72px rgba(229, 9, 20, 0.6),
                    0 0 96px rgba(229, 9, 20, 0.5),
                    0 0 120px rgba(229, 9, 20, 0.4),
                    0 0 144px rgba(229, 9, 20, 0.3),
                    2px 2px 6px rgba(0, 0, 0, 0.9);
                filter: brightness(1.395) contrast(1.148);
                transform: scale(1.044);
            }

            95% {
                text-shadow:
                    0 0 24px rgba(229, 9, 20, 1),
                    0 0 49px rgba(229, 9, 20, 0.8),
                    0 0 74px rgba(229, 9, 20, 0.6),
                    0 0 99px rgba(229, 9, 20, 0.5),
                    0 0 124px rgba(229, 9, 20, 0.4),
                    0 0 149px rgba(229, 9, 20, 0.3),
                    2px 2px 6px rgba(0, 0, 0, 0.9);
                filter: brightness(1.398) contrast(1.149);
                transform: scale(1.045);
            }

            100% {
                text-shadow:
                    0 0 25px rgba(229, 9, 20, 1),
                    0 0 50px rgba(229, 9, 20, 0.8),
                    0 0 75px rgba(229, 9, 20, 0.6),
                    0 0 100px rgba(229, 9, 20, 0.5),
                    0 0 125px rgba(229, 9, 20, 0.4),
                    0 0 150px rgba(229, 9, 20, 0.3),
                    2px 2px 6px rgba(0, 0, 0, 0.9);
                filter: brightness(1.4) contrast(1.15);
                transform: scale(1.045);
            }
        }

        @keyframes logoGlowBuildUp {
            0% {
                filter:
                    drop-shadow(0 0 8px rgba(229, 9, 20, 0.4)) drop-shadow(0 0 16px rgba(229, 9, 20, 0.3)) brightness(1.1);
                transform: scale(1);
            }

            5% {
                filter:
                    drop-shadow(0 0 8.5px rgba(229, 9, 20, 0.42)) drop-shadow(0 0 17px rgba(229, 9, 20, 0.32)) brightness(1.11);
                transform: scale(1.001);
            }

            10% {
                filter:
                    drop-shadow(0 0 9px rgba(229, 9, 20, 0.44)) drop-shadow(0 0 18px rgba(229, 9, 20, 0.34)) brightness(1.12);
                transform: scale(1.002);
            }

            15% {
                filter:
                    drop-shadow(0 0 9.5px rgba(229, 9, 20, 0.46)) drop-shadow(0 0 19px rgba(229, 9, 20, 0.36)) brightness(1.13);
                transform: scale(1.004);
            }

            20% {
                filter:
                    drop-shadow(0 0 10px rgba(229, 9, 20, 0.48)) drop-shadow(0 0 20px rgba(229, 9, 20, 0.38)) brightness(1.14);
                transform: scale(1.006);
            }

            25% {
                filter:
                    drop-shadow(0 0 11px rgba(229, 9, 20, 0.5)) drop-shadow(0 0 22px rgba(229, 9, 20, 0.4)) drop-shadow(0 0 33px rgba(229, 9, 20, 0.3)) brightness(1.15);
                transform: scale(1.008);
            }

            30% {
                filter:
                    drop-shadow(0 0 11.5px rgba(229, 9, 20, 0.52)) drop-shadow(0 0 23px rgba(229, 9, 20, 0.42)) drop-shadow(0 0 34.5px rgba(229, 9, 20, 0.32)) brightness(1.16);
                transform: scale(1.012);
            }

            35% {
                filter:
                    drop-shadow(0 0 12px rgba(229, 9, 20, 0.54)) drop-shadow(0 0 24px rgba(229, 9, 20, 0.44)) drop-shadow(0 0 36px rgba(229, 9, 20, 0.34)) brightness(1.17);
                transform: scale(1.016);
            }

            40% {
                filter:
                    drop-shadow(0 0 12.5px rgba(229, 9, 20, 0.56)) drop-shadow(0 0 25px rgba(229, 9, 20, 0.46)) drop-shadow(0 0 37.5px rgba(229, 9, 20, 0.36)) brightness(1.18);
                transform: scale(1.02);
            }

            45% {
                filter:
                    drop-shadow(0 0 13px rgba(229, 9, 20, 0.58)) drop-shadow(0 0 26px rgba(229, 9, 20, 0.48)) drop-shadow(0 0 39px rgba(229, 9, 20, 0.38)) brightness(1.19);
                transform: scale(1.024);
            }

            50% {
                filter:
                    drop-shadow(0 0 15px rgba(229, 9, 20, 0.7)) drop-shadow(0 0 30px rgba(229, 9, 20, 0.5)) drop-shadow(0 0 45px rgba(229, 9, 20, 0.4)) brightness(1.2);
                transform: scale(1.028);
            }

            55% {
                filter:
                    drop-shadow(0 0 16px rgba(229, 9, 20, 0.75)) drop-shadow(0 0 32px rgba(229, 9, 20, 0.55)) drop-shadow(0 0 48px rgba(229, 9, 20, 0.45)) drop-shadow(0 0 64px rgba(229, 9, 20, 0.35)) brightness(1.21);
                transform: scale(1.032);
            }

            60% {
                filter:
                    drop-shadow(0 0 17px rgba(229, 9, 20, 0.8)) drop-shadow(0 0 34px rgba(229, 9, 20, 0.6)) drop-shadow(0 0 51px rgba(229, 9, 20, 0.5)) drop-shadow(0 0 68px rgba(229, 9, 20, 0.4)) brightness(1.22);
                transform: scale(1.036);
            }

            65% {
                filter:
                    drop-shadow(0 0 18px rgba(229, 9, 20, 0.85)) drop-shadow(0 0 36px rgba(229, 9, 20, 0.65)) drop-shadow(0 0 54px rgba(229, 9, 20, 0.55)) drop-shadow(0 0 72px rgba(229, 9, 20, 0.45)) brightness(1.23);
                transform: scale(1.038);
            }

            70% {
                filter:
                    drop-shadow(0 0 18.5px rgba(229, 9, 20, 0.9)) drop-shadow(0 0 37px rgba(229, 9, 20, 0.7)) drop-shadow(0 0 55.5px rgba(229, 9, 20, 0.6)) drop-shadow(0 0 74px rgba(229, 9, 20, 0.5)) brightness(1.24);
                transform: scale(1.04);
            }

            75% {
                filter:
                    drop-shadow(0 0 19px rgba(229, 9, 20, 0.95)) drop-shadow(0 0 38px rgba(229, 9, 20, 0.75)) drop-shadow(0 0 57px rgba(229, 9, 20, 0.65)) drop-shadow(0 0 76px rgba(229, 9, 20, 0.55)) brightness(1.25);
                transform: scale(1.041);
            }

            80% {
                filter:
                    drop-shadow(0 0 19.2px rgba(229, 9, 20, 0.96)) drop-shadow(0 0 38.4px rgba(229, 9, 20, 0.76)) drop-shadow(0 0 57.6px rgba(229, 9, 20, 0.66)) drop-shadow(0 0 76.8px rgba(229, 9, 20, 0.56)) brightness(1.26);
                transform: scale(1.042);
            }

            85% {
                filter:
                    drop-shadow(0 0 19.4px rgba(229, 9, 20, 0.97)) drop-shadow(0 0 38.8px rgba(229, 9, 20, 0.77)) drop-shadow(0 0 58.2px rgba(229, 9, 20, 0.67)) drop-shadow(0 0 77.6px rgba(229, 9, 20, 0.57)) brightness(1.27);
                transform: scale(1.043);
            }

            90% {
                filter:
                    drop-shadow(0 0 19.6px rgba(229, 9, 20, 0.98)) drop-shadow(0 0 39.2px rgba(229, 9, 20, 0.78)) drop-shadow(0 0 58.8px rgba(229, 9, 20, 0.68)) drop-shadow(0 0 78.4px rgba(229, 9, 20, 0.58)) brightness(1.28);
                transform: scale(1.044);
            }

            95% {
                filter:
                    drop-shadow(0 0 19.8px rgba(229, 9, 20, 0.99)) drop-shadow(0 0 39.6px rgba(229, 9, 20, 0.79)) drop-shadow(0 0 59.4px rgba(229, 9, 20, 0.69)) drop-shadow(0 0 79.2px rgba(229, 9, 20, 0.59)) brightness(1.29);
                transform: scale(1.045);
            }

            100% {
                filter:
                    drop-shadow(0 0 20px rgba(229, 9, 20, 1)) drop-shadow(0 0 40px rgba(229, 9, 20, 0.8)) drop-shadow(0 0 60px rgba(229, 9, 20, 0.6)) drop-shadow(0 0 80px rgba(229, 9, 20, 0.4)) brightness(1.3);
                transform: scale(1.045);
            }
        }

        .smooth-text-glow {
            animation: textGlowBuildUp 3.5s ease-in-out forwards;
        }

        .smooth-logo-glow {
            animation: logoGlowBuildUp 2.5s ease-in-out forwards;
        }
    </style>
</head>

<body class="bg-netflix-black text-white min-h-screen">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 bg-netflix-black z-[9999] flex flex-col items-center justify-center">
        <!-- Logo Container -->
        <div class="flex flex-col items-center space-y-8">
            <!-- Logo with animation -->
            <div id="logoContainer" class="opacity-0 transform scale-50">
                <img src="src/assets/logo.svg" alt="Nebula Logo" class="w-24 h-24 lg:w-32 lg:h-32 object-contain">
            </div>

            <!-- Typing Text Container -->
            <div id="typingContainer" class="opacity-0">
                <h1 class="text-4xl lg:text-6xl font-bold text-netflix-red">
                    <span id="typedText"></span>
                </h1>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div id="mainContent" class="opacity-0">
        <!-- Navigation -->
        <header class="navbar-glass fixed top-0 w-full z-50 transition-all duration-500" id="navbar">
            <div
                class="relative z-10 flex flex-col lg:flex-row items-center justify-between px-4 lg:px-16 py-4 space-y-4 lg:space-y-0">
                <!-- Logo and Desktop Navigation -->
                <div
                    class="flex flex-col lg:flex-row items-center space-y-4 lg:space-y-0 lg:space-x-8 w-full lg:w-auto">
                    <h1 class="text-netflix-red text-2xl lg:text-3xl font-bold cursor-pointer hover:text-white transition-colors text-center lg:text-left flex items-center"
                        onclick="home()">
                        <img src="src/assets/logo.svg" alt="Nebula Logo"
                            class="w-8 h-8 lg:w-10 lg:h-10 mr-2 object-contain">Nebula
                    </h1>
                    <!-- Desktop Navigation -->
                    <nav class="hidden lg:flex space-x-6">
                        <a href="#" class="text-white hover:text-gray-300 transition-colors">Home</a>
                        <a href="seeall.html?type=trending_movie" class="text-white hover:text-gray-300 transition-colors">Movies</a>
                        <a href="seeall.html?type=popular_tv" class="text-white hover:text-gray-300 transition-colors">TV Shows</a>
                        <a href="#" class="text-white hover:text-gray-300 transition-colors"
                            onclick="showDevToast('My List')">My List</a>
                    </nav>
                </div>

                <!-- Search Bar -->
                <div class="flex items-center space-x-4 w-full lg:w-auto justify-center lg:justify-end">
                    <div class="relative w-full max-w-md lg:w-64">
                        <input type="text" placeholder="Search a movie/series"
                            class="search-input text-white placeholder-gray-400 rounded-md px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-netflix-red focus:border-transparent transition-all">
                        <i
                            class="fa-solid fa-magnifying-glass absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer hover:text-white transition-colors"></i>
                    </div>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <div class="relative pt-16">
            <div class="backdrop-container relative h-[60vh] lg:h-[80vh] overflow-hidden">
                <div class="backdrop-slider w-full h-full bg-cover bg-center bg-no-repeat"></div>
                <!-- Gradient Overlay -->
                <div
                    class="absolute inset-0 bg-gradient-to-t from-netflix-black via-transparent to-transparent pointer-events-none z-0">
                </div>
                <div
                    class="absolute inset-0 bg-gradient-to-r from-netflix-black/80 via-transparent to-transparent pointer-events-none z-0">
                </div>

                <!-- Hero Content -->
                <div class="absolute bottom-0 left-0 p-8 lg:p-16 max-w-2xl z-10">
                    <div id="hero-loading" class="animate-pulse">
                        <div class="h-12 bg-gray-600 rounded mb-4 w-3/4"></div>
                        <div class="h-6 bg-gray-600 rounded mb-6 w-full"></div>
                        <div class="flex space-x-4">
                            <div class="h-12 bg-gray-600 rounded w-32"></div>
                            <div class="h-12 bg-gray-600 rounded w-32"></div>
                        </div>
                    </div>
                    <div id="hero-content" class="hidden">
                        <h1 id="hero-title" class="text-4xl lg:text-6xl font-bold mb-4 leading-tight">Discover Amazing
                            Movies</h1>
                        <p id="hero-overview" class="text-lg lg:text-xl text-gray-300 mb-6 leading-relaxed">
                            Explore thousands of movies and TV shows. Find your next favorite film today.
                        </p>
                        <div class="flex items-center mb-6 space-x-6">
                            <div id="hero-rating" class="flex items-center text-yellow-400">
                                <i class="fa-solid fa-star mr-2"></i>
                                <span class="text-white text-lg font-semibold">0.0</span>
                            </div>
                            <div id="hero-year" class="text-gray-300 text-lg">
                                2024
                            </div>
                            <div id="hero-runtime" class="text-gray-300 text-lg">
                                <!-- Runtime will be added here -->
                            </div>
                        </div>
                        <div class="flex space-x-4">
                            <button id="hero-play-btn"
                                class="netflix-button bg-white text-black px-8 py-3 rounded font-semibold hover:bg-gray-200 transition-colors flex items-center">
                                <i class="fa-solid fa-play mr-2"></i>
                                Play
                            </button>
                            <button id="hero-info-btn"
                                class="netflix-button bg-gray-600/70 text-white px-8 py-3 rounded font-semibold hover:bg-gray-600 transition-colors flex items-center">
                                <i class="fa-solid fa-info-circle mr-2"></i>
                                More Info
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Sections -->
        <div class="px-4 lg:px-16 space-y-12 pb-20">
            <!-- Trending Movies -->
            <section>
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl lg:text-3xl font-bold flex items-center">
                        <i class="fa-solid fa-fire text-netflix-red mr-3"></i>
                        Trending Movies
                    </h2>
                    <button class="text-netflix-red hover:text-red-400 transition-colors font-semibold"
                        onclick="window.location.href='seeall.html?type=trending_movie'">
                        See All <i class="fa-solid fa-chevron-right ml-1"></i>
                    </button>
                </div>
                <div class="scroll-wrapper overflow-hidden">
                    <div class="movie-container flex space-x-4 overflow-x-auto scrollbar-hide pb-4">
                        <!-- Movies will be populated here -->
                    </div>
                </div>
            </section>

            <!-- Popular TV Shows -->
            <section>
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl lg:text-3xl font-bold flex items-center">
                        <i class="fa-solid fa-tv text-netflix-red mr-3"></i>
                        Popular TV Shows
                    </h2>
                    <button class="text-netflix-red hover:text-red-400 transition-colors font-semibold"
                        onclick="window.location.href='seeall.html?type=popular_tv'">
                        See All <i class="fa-solid fa-chevron-right ml-1"></i>
                    </button>
                </div>
                <div class="scroll-wrapper overflow-hidden">
                    <div class="series-container flex space-x-4 overflow-x-auto scrollbar-hide pb-4">
                        <!-- TV Shows will be populated here -->
                    </div>
                </div>
            </section>

            <!-- Top Rated -->
            <section>
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl lg:text-3xl font-bold flex items-center">
                        <i class="fa-solid fa-star text-netflix-red mr-3"></i>
                        16+
                    </h2>
                    <button class="text-netflix-red hover:text-red-400 transition-colors font-semibold"
                        onclick="window.location.href='seeall.html?type=top_rated_tv'">
                        See All <i class="fa-solid fa-chevron-right ml-1"></i>
                    </button>
                </div>
                <div class="scroll-wrapper overflow-hidden">
                    <div class="anime-container flex space-x-4 overflow-x-auto scrollbar-hide pb-4">
                        <!-- Top rated content will be populated here -->
                    </div>
                </div>
            </section>
        </div>

        <!-- Search Modal -->
        <div id="searchModal" class="search-modal-overlay hidden">
            <div class="search-modal-card">
                <!-- Search Header -->
                <div class="search-header">
                    <!-- Close Button -->
                    <button id="searchCloseBtn"
                        class="absolute top-4 right-4 z-10 bg-black bg-opacity-50 rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-75 transition-all">
                        <i class="fa-solid fa-times text-white text-lg"></i>
                    </button>

                    <h2 id="searchResultsTitle">Search Results</h2>
                    <div class="search-filters">
                        <button class="filter-btn active" data-type="all">All</button>
                        <button class="filter-btn" data-type="movie">Movies</button>
                        <button class="filter-btn" data-type="tv">TV Shows</button>
                        <button class="filter-btn" data-type="person">People</button>
                    </div>
                </div>

                <!-- Search Results Container -->
                <div id="searchResultsContainer" class="search-results-container">
                    <div class="loading">Loading...</div>
                </div>

                <!-- Pagination Container -->
                <div id="searchPaginationContainer" class="pagination-container"></div>
            </div>
        </div>

        <!-- Movie Info Modal -->
        <div id="movieModal" class="fixed inset-0 z-50 hidden">
            <!-- Modal Backdrop -->
            <div class="modal-backdrop-blur fixed inset-0" onclick="closeModal()"></div>

            <!-- Modal Content -->
            <div class="fixed inset-0 flex items-center justify-center p-4">
                <div
                    class="modal-content bg-netflix-dark rounded-lg max-w-4xl w-full max-h-[90vh] relative flex flex-col">
                    <!-- Close Button -->
                    <button onclick="closeModal()"
                        class="glass-close-btn absolute top-4 right-4 z-10 rounded-full w-10 h-10 flex items-center justify-center">
                        <i class="fa-solid fa-times text-white text-lg"></i>
                    </button>

                    <!-- Modal Header with Backdrop -->
                    <div class="relative h-64 lg:h-80 overflow-hidden rounded-t-lg flex-shrink-0">
                        <img id="modalBackdrop" src="" alt="" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-netflix-dark via-transparent to-transparent">
                        </div>

                        <!-- Movie Info Overlay -->
                        <div class="absolute bottom-0 left-0 right-0 p-6 lg:p-8">
                            <div class="flex flex-col lg:flex-row lg:items-end lg:justify-between">
                                <div class="flex-1">
                                    <h2 id="modalTitle" class="text-3xl lg:text-4xl font-bold text-white mb-2"></h2>
                                    <div
                                        class="flex items-center justify-between flex-wrap gap-x-4 gap-y-2 text-sm lg:text-base mb-4 lg:mb-0">
                                        <!-- Left side: Rating, Year, Runtime -->
                                        <div class="flex items-center flex-wrap gap-x-4 gap-y-2">
                                            <span id="modalRating" class="flex items-center text-yellow-400">
                                                <i class="fa-solid fa-star mr-1"></i>
                                                <span class="text-white">0.0</span>
                                            </span>
                                            <span id="modalYear" class="text-gray-300"></span>
                                            <span id="modalRuntime" class="text-gray-300"></span>
                                        </div>
                                        <!-- Right side: Mobile Play Trailer button -->
                                        <div class="flex items-center space-x-2 lg:hidden">
                                            <button id="playTrailerBtn" onclick="playTrailer()"
                                                class="bg-netflix-red hover:bg-red-700 text-white px-3 py-1.5 rounded font-semibold transition-colors flex items-center text-xs whitespace-nowrap">
                                                <i class="fa-solid fa-play mr-1 text-xs"></i>
                                                <span>Play Trailer</span>
                                            </button>
                                            <button id="muteBtn" onclick="toggleMute()"
                                                class="w-7 h-7 bg-gray-900/70 hover:bg-gray-800/70 text-white rounded-full font-semibold transition-colors flex items-center justify-center border-2 border-white/20 hidden">
                                                <i class="fa-solid fa-volume-xmark text-xs"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <!-- Desktop buttons on the right -->
                                <div class="hidden lg:flex items-center space-x-2">
                                    <button id="playTrailerBtnDesktop" onclick="playTrailer()"
                                        class="bg-netflix-red hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center text-base">
                                        <i class="fa-solid fa-play mr-2 text-sm"></i>
                                        Play Trailer
                                    </button>
                                    <button id="muteBtnDesktop" onclick="toggleMute()"
                                        class="w-10 h-10 bg-gray-900/70 hover:bg-gray-800/70 text-white rounded-full font-semibold transition-colors flex items-center justify-center border-2 border-white/20 hidden">
                                        <i class="fa-solid fa-volume-xmark text-sm"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Modal Body - Scrollable Content -->
                    <div class="flex-1 overflow-y-auto modal-scrollable-content relative">
                        <!-- Gradient Fade Transition -->
                        <div class="modal-gradient-fade absolute top-0 left-0 right-0 z-10 pointer-events-none"></div>

                        <div class="p-6 lg:p-8 pt-16 relative z-20">
                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                <!-- Movie Poster -->
                                <div class="lg:col-span-1">
                                    <img id="modalPoster" src="" alt="" class="w-full rounded-lg shadow-lg">
                                </div>

                                <!-- Movie Details -->
                                <div class="lg:col-span-2 space-y-6">
                                    <!-- Overview -->
                                    <div>
                                        <h3 class="text-xl font-semibold text-white mb-3">Overview</h3>
                                        <p id="modalOverview" class="text-gray-300 leading-relaxed"></p>
                                    </div>

                                    <!-- Additional Info -->
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <h4 class="text-lg font-semibold text-white mb-2">Details</h4>
                                            <div class="space-y-2 text-gray-300">
                                                <p><span class="text-white font-medium">Release Date:</span> <span
                                                        id="modalReleaseDate"></span></p>
                                                <p><span class="text-white font-medium">Genres:</span> <span
                                                        id="modalGenres"></span></p>
                                                <p><span class="text-white font-medium">Runtime:</span> <span
                                                        id="modalRuntimeDetail"></span></p>
                                            </div>
                                        </div>
                                        <div>
                                            <h4 class="text-lg font-semibold text-white mb-2">Additional Info</h4>
                                            <div class="space-y-2 text-gray-300">
                                                <p><span class="text-white font-medium">Rating:</span> <span
                                                        id="modalRatingDetail"></span></p>
                                                <p><span class="text-white font-medium">Vote Count:</span> <span
                                                        id="modalVoteCount"></span></p>
                                                <p><span class="text-white font-medium">Language:</span> <span
                                                        id="modalLanguage"></span></p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex space-x-4 pt-4">
                                        <button id="modalPlayBtn"
                                            class="netflix-button bg-netflix-red text-white px-8 py-3 rounded font-semibold hover:bg-red-700 transition-colors flex items-center">
                                            <i class="fa-solid fa-play mr-2"></i>
                                            Watch Now
                                        </button>
                                        <button id="modalAddToListBtn" onclick="showDevToast('Add to List')"
                                            class="netflix-button bg-gray-600 text-white px-8 py-3 rounded font-semibold hover:bg-gray-500 transition-colors flex items-center">
                                            <i class="fa-solid fa-plus mr-2"></i>
                                            Add to List
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-netflix-dark mt-20 py-16">
            <div class="px-4 lg:px-16">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div class="col-span-1 md:col-span-2">
                        <h3 class="text-netflix-red text-2xl font-bold mb-4">Nebula</h3>
                        <p class="text-gray-400 mb-6 max-w-md">
                            Your ultimate destination for discovering amazing movies and TV shows.
                            Stream, watch, and enjoy entertainment like never before.
                        </p>
                    </div>

                    <div>
                        <h4 class="text-white font-semibold mb-4">Quick Links</h4>
                        <ul class="space-y-2 text-gray-400">
                            <li><a href="seeall.html?type=trending_movie" class="hover:text-white transition-colors">Movies</a></li>
                            <li><a href="seeall.html?type=popular_tv" class="hover:text-white transition-colors">TV Shows</a></li>
                            <li><a href="#" class="hover:text-white transition-colors"
                                    onclick="showDevToast('My List')">My List</a></li>
                            <li><a href="#" class="hover:text-white transition-colors">Browse</a></li>
                        </ul>
                    </div>

                    <div>
                        <h4 class="text-white font-semibold mb-4">Connect With Us</h4>
                        <div class="flex space-x-4">
                            <a href="#" onclick="ins()" class="text-gray-400 hover:text-netflix-red transition-colors">
                                <i class="fa-brands fa-instagram text-2xl"></i>
                            </a>
                            <a href="#" onclick="lin()" class="text-gray-400 hover:text-netflix-red transition-colors">
                                <i class="fa-brands fa-linkedin-in text-2xl"></i>
                            </a>
                            <a href="#" onclick="git()" class="text-gray-400 hover:text-netflix-red transition-colors">
                                <i class="fa-brands fa-github text-2xl"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="border-t border-gray-700 mt-12 pt-8 text-center">
                    <p class="text-gray-400">&copy; 2024 Nebula. All rights reserved. | Privacy Policy | Terms of
                        Service</p>
                </div>
            </div>
        </footer>

        <script src="./src/loading.js"></script>
        <script src="./src/home.js"></script>
        <script src="src/search.js"></script>

        <script>
            // Footer functions
            function ins() { window.open('https://www.instagram.com/unkown-user/', '_blank'); }
            function lin() { window.open('https://www.linkedin.com/in/christian-signo-070733323/', '_blank') }
            function git() { window.open('https://github.com/Xtian69420', '_blank') }

            function home() {
                window.location.href = "index.html";
            }

            // Navbar scroll effect
            window.addEventListener('scroll', () => {
                const navbar = document.getElementById('navbar');
                if (window.scrollY > 100) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });

            // Smooth horizontal scrolling for movie containers
            function setupHorizontalScroll() {
                const containers = document.querySelectorAll('.movie-container, .series-container, .anime-container');

                containers.forEach(container => {
                    container.addEventListener('wheel', (e) => {
                        if (e.deltaY !== 0) {
                            e.preventDefault();
                            container.scrollLeft += e.deltaY * 2;
                        }
                    });

                    // Touch scrolling for mobile
                    let isDown = false;
                    let startX;
                    let scrollLeft;

                    container.addEventListener('mousedown', (e) => {
                        isDown = true;
                        container.style.cursor = 'grabbing';
                        startX = e.pageX - container.offsetLeft;
                        scrollLeft = container.scrollLeft;
                    });

                    container.addEventListener('mouseleave', () => {
                        isDown = false;
                        container.style.cursor = 'grab';
                    });

                    container.addEventListener('mouseup', () => {
                        isDown = false;
                        container.style.cursor = 'grab';
                    });

                    container.addEventListener('mousemove', (e) => {
                        if (!isDown) return;
                        e.preventDefault();
                        const x = e.pageX - container.offsetLeft;
                        const walk = (x - startX) * 2;
                        container.scrollLeft = scrollLeft - walk;
                    });

                    // Touch events for mobile
                    container.addEventListener('touchstart', (e) => {
                        startX = e.touches[0].pageX - container.offsetLeft;
                        scrollLeft = container.scrollLeft;
                    });

                    container.addEventListener('touchmove', (e) => {
                        if (!startX) return;
                        const x = e.touches[0].pageX - container.offsetLeft;
                        const walk = (x - startX) * 2;
                        container.scrollLeft = scrollLeft - walk;
                    });
                });
            }

            // Initialize after DOM is loaded
            document.addEventListener('DOMContentLoaded', setupHorizontalScroll);

            // Global variable to store current movie trailer
            let currentMovieTrailer = null;
            let currentMovieBackdrop = null;
            let isTrailerMuted = true; // Start muted by default

            // Function to fetch movie or TV show trailer
            async function fetchMovieTrailer(movieId, mediaType = 'movie') {
                try {
                    const API_KEY = '97df57ffd9278a37bc12191e00332053';
                    const endpoint = mediaType === 'tv' ? 'tv' : 'movie';
                    const response = await fetch(`https://api.themoviedb.org/3/${endpoint}/${movieId}/videos?api_key=${API_KEY}`);
                    const data = await response.json();

                    // Find the first YouTube trailer
                    const trailer = data.results.find(video =>
                        video.type === 'Trailer' && video.site === 'YouTube'
                    );

                    return trailer;
                } catch (error) {
                    console.error('Error fetching trailer:', error);
                    return null;
                }
            }

            // Function to play trailer in modal backdrop
            function playTrailer() {
                if (!currentMovieTrailer) {
                    showDevToast('Trailer not available for this content');
                    return;
                }

                const modalBackdrop = document.getElementById('modalBackdrop');
                const playTrailerBtn = document.getElementById('playTrailerBtn');
                const playTrailerBtnDesktop = document.getElementById('playTrailerBtnDesktop');
                const muteBtn = document.getElementById('muteBtn');
                const muteBtnDesktop = document.getElementById('muteBtnDesktop');

                if (modalBackdrop) {
                    // Replace backdrop image with YouTube iframe (no controls, autoplay, muted initially)
                    modalBackdrop.outerHTML = `
                    <div id="modalBackdrop" class="w-full h-full relative overflow-hidden">
                        <iframe 
                            id="trailerIframe"
                            src="https://www.youtube.com/embed/${currentMovieTrailer.key}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&modestbranding=1&iv_load_policy=3&fs=0&disablekb=1&enablejsapi=1&cc_load_policy=0&playsinline=1&widget_referrer=https%3A%2F%2Fwww.netflix.com"
                            class="absolute inset-0 w-full h-full"
                            style="width: 170%; height: 170%; left: -35%; top: -35%; object-fit: cover;"
                            allowfullscreen
                            allow="autoplay; encrypted-media">
                        </iframe>
                    </div>
                `;

                    // Update mobile buttons
                    if (playTrailerBtn) {
                        playTrailerBtn.innerHTML = `
                        <i class="fa-solid fa-stop mr-1 lg:mr-2 text-xs lg:text-sm"></i>
                        <span class="hidden sm:inline">Stop Trailer</span>
                        <span class="sm:hidden">Stop</span>
                    `;
                        playTrailerBtn.onclick = stopTrailer;
                    }

                    // Update desktop buttons
                    if (playTrailerBtnDesktop) {
                        playTrailerBtnDesktop.innerHTML = `
                        <i class="fa-solid fa-stop mr-2 text-sm"></i>
                        Stop Trailer
                    `;
                        playTrailerBtnDesktop.onclick = stopTrailer;
                    }

                    // Show mute buttons
                    if (muteBtn) {
                        muteBtn.classList.remove('hidden');
                        muteBtn.classList.add('flex');
                        muteBtn.innerHTML = '<i class="fa-solid fa-volume-xmark text-xs lg:text-sm"></i>';
                    }

                    if (muteBtnDesktop) {
                        muteBtnDesktop.classList.remove('hidden');
                        muteBtnDesktop.classList.add('flex');
                        muteBtnDesktop.innerHTML = '<i class="fa-solid fa-volume-xmark text-sm"></i>';
                    }
                }
            }

            // Function to stop trailer and restore backdrop
            function stopTrailer() {
                const modalBackdrop = document.getElementById('modalBackdrop');
                const playTrailerBtn = document.getElementById('playTrailerBtn');
                const playTrailerBtnDesktop = document.getElementById('playTrailerBtnDesktop');
                const muteBtn = document.getElementById('muteBtn');
                const muteBtnDesktop = document.getElementById('muteBtnDesktop');

                if (modalBackdrop && currentMovieBackdrop) {
                    // Restore original backdrop image
                    modalBackdrop.outerHTML = `<img id="modalBackdrop" src="${currentMovieBackdrop}" alt="" class="w-full h-full object-cover">`;

                    // Update mobile buttons back to play state
                    if (playTrailerBtn) {
                        playTrailerBtn.innerHTML = `
                        <i class="fa-solid fa-play mr-1 lg:mr-2 text-xs lg:text-sm"></i>
                        <span class="hidden sm:inline">Play Trailer</span>
                        <span class="sm:hidden">Play Trailer</span>
                    `;
                        playTrailerBtn.onclick = playTrailer;
                    }

                    // Update desktop buttons back to play state
                    if (playTrailerBtnDesktop) {
                        playTrailerBtnDesktop.innerHTML = `
                        <i class="fa-solid fa-play mr-2 text-sm"></i>
                        Play Trailer
                    `;
                        playTrailerBtnDesktop.onclick = playTrailer;
                    }

                    // Hide mute buttons
                    if (muteBtn) {
                        muteBtn.classList.add('hidden');
                        muteBtn.classList.remove('flex');
                    }

                    if (muteBtnDesktop) {
                        muteBtnDesktop.classList.add('hidden');
                        muteBtnDesktop.classList.remove('flex');
                    }

                    // Reset mute state
                    isTrailerMuted = true;
                }
            }

            // Function to toggle mute/unmute
            function toggleMute() {
                const trailerIframe = document.getElementById('trailerIframe');
                const muteBtn = document.getElementById('muteBtn');
                const muteBtnDesktop = document.getElementById('muteBtnDesktop');

                if (trailerIframe) {
                    try {
                        // Use postMessage to communicate with YouTube iframe
                        if (isTrailerMuted) {
                            // Unmute
                            trailerIframe.contentWindow.postMessage('{"event":"command","func":"unMute","args":""}', '*');

                            // Update both button icons
                            if (muteBtn) {
                                muteBtn.innerHTML = '<i class="fa-solid fa-volume-high text-xs lg:text-sm"></i>';
                            }
                            if (muteBtnDesktop) {
                                muteBtnDesktop.innerHTML = '<i class="fa-solid fa-volume-high text-sm"></i>';
                            }
                            isTrailerMuted = false;
                        } else {
                            // Mute
                            trailerIframe.contentWindow.postMessage('{"event":"command","func":"mute","args":""}', '*');

                            // Update both button icons
                            if (muteBtn) {
                                muteBtn.innerHTML = '<i class="fa-solid fa-volume-xmark text-xs lg:text-sm"></i>';
                            }
                            if (muteBtnDesktop) {
                                muteBtnDesktop.innerHTML = '<i class="fa-solid fa-volume-xmark text-sm"></i>';
                            }
                            isTrailerMuted = true;
                        }
                    } catch (error) {
                        console.log('YouTube API not available, using fallback method');
                        // Fallback: Just update button state without reloading iframe
                        if (isTrailerMuted) {
                            if (muteBtn) {
                                muteBtn.innerHTML = '<i class="fa-solid fa-volume-high text-xs lg:text-sm"></i>';
                            }
                            if (muteBtnDesktop) {
                                muteBtnDesktop.innerHTML = '<i class="fa-solid fa-volume-high text-sm"></i>';
                            }
                            isTrailerMuted = false;
                        } else {
                            if (muteBtn) {
                                muteBtn.innerHTML = '<i class="fa-solid fa-volume-xmark text-xs lg:text-sm"></i>';
                            }
                            if (muteBtnDesktop) {
                                muteBtnDesktop.innerHTML = '<i class="fa-solid fa-volume-xmark text-sm"></i>';
                            }
                            isTrailerMuted = true;
                        }
                    }
                }
            }
        </script>

        <!-- Removed: legacy geolocation + external API tracking (CORS issues) -->

        <script>
            //for category
            const scrollWrapper1 = document.querySelector('.movie-container');
            const scrollWrapper2 = document.querySelector('.series-container');
            const scrollWrapper3 = document.querySelector('.anime-container');

            // Enhanced scroll functionality will be handled in the main script above
        </script>

        <style>
            /* Custom scrollbar styles */
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }

            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }

            /* Custom movie card hover effects */
            .movie-card,
            .series-card,
            .anime-card {
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }

            .movie-card:hover,
            .series-card:hover,
            .anime-card:hover {
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.8);
                z-index: 10;
            }

            /* Smooth backdrop transitions */
            .backdrop-slider {
                transition: opacity 1s ease-in-out;
            }

            /* Custom gradient overlay */
            .hero-gradient {
                background: linear-gradient(90deg,
                        rgba(0, 0, 0, 0.8) 0%,
                        rgba(0, 0, 0, 0.4) 50%,
                        rgba(0, 0, 0, 0.1) 100%);
            }

            /* Hero loading animation */
            @keyframes pulse {

                0%,
                100% {
                    opacity: 1;
                }

                50% {
                    opacity: 0.5;
                }
            }

            .animate-pulse {
                animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            }

            /* Hero content transitions */
            #hero-content {
                animation: fadeInUp 0.8s ease-out;
            }

            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }

                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            /* Enhanced button hover effects */
            .netflix-button {
                position: relative;
                overflow: hidden;
            }

            .netflix-button::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
                transition: left 0.5s;
            }

            .netflix-button:hover::before {
                left: 100%;
            }

            /* Mobile navigation improvements */
            @media (max-width: 1024px) {
                .navbar-glass {
                    padding-top: 1rem;
                    padding-bottom: 1rem;
                    /* Keep the same glassmorphism as desktop; no opaque overrides */
                }

                /* Do not override #navbar background on mobile so it keeps glass effect */

                .search-input {
                    font-size: 16px;
                    /* Prevents zoom on iOS */
                }
            }

            /* Ensure Play button stays white on small screens if any mobile theming interferes */
            @media (max-width: 640px) {
                #hero-play-btn {
                    background-color: #ffffff !important;
                    color: #000000 !important;
                }
            }

            /* Extra margin for very small screens to prevent header overlap */
            @media (max-width: 1023px) {
                .pt-16 {
                    padding-top: 6rem !important;
                    /* Increase from default 4rem to 6rem */
                }

                /* Alternative: add margin to hero section specifically */
                .backdrop-container {
                    margin-top: 2rem;
                }

                /* Truncate hero description to ~25 characters on very small screens */
                #hero-overview {
                    display: -webkit-box;
                    -webkit-line-clamp: 1;
                    line-clamp: 1;
                    -webkit-box-orient: vertical;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    max-width: 25ch;
                    /* Approximately 25 characters */
                }
            }

            /* Modal improvements */
            .modal-content {
                animation: modalFadeIn 0.3s ease-out;
            }

            /* Glassmorphism Modal Backdrop */
            .modal-backdrop-blur {
                background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05)) !important;
                backdrop-filter: blur(20px) saturate(180%) !important;
                -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
            }

            /* Glassmorphism Modal Content */
            .modal-content {
                background: linear-gradient(135deg, rgba(20, 20, 20, 0.8), rgba(10, 10, 10, 0.9)) !important;
                backdrop-filter: blur(25px) saturate(180%) !important;
                -webkit-backdrop-filter: blur(25px) saturate(180%) !important;
                border: 1px solid rgba(255, 255, 255, 0.15) !important;
                box-shadow:
                    0 25px 50px rgba(0, 0, 0, 0.5),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
                animation: modalGlassAppear 0.5s cubic-bezier(0.4, 0, 0.2, 1) !important;
            }

            /* Glassmorphism Close Button */
            .glass-close-btn {
                background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1)) !important;
                backdrop-filter: blur(15px) !important;
                -webkit-backdrop-filter: blur(15px) !important;
                border: 1px solid rgba(255, 255, 255, 0.3) !important;
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3) !important;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
            }

            .glass-close-btn:hover {
                background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.2)) !important;
                transform: scale(1.05) !important;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4) !important;
            }

            /* Modal Gradient Transition */
            .modal-gradient-fade {
                background: linear-gradient(to bottom,
                        rgba(20, 20, 20, 1) 0%,
                        rgba(20, 20, 20, 0.95) 25%,
                        rgba(20, 20, 20, 0.8) 50%,
                        rgba(20, 20, 20, 0.4) 75%,
                        transparent 100%) !important;
                height: 80px !important;
                transition: opacity 0.3s ease-in-out !important;
            }

            /* Minimal White Scrollbar for Modal */
            .modal-scrollable-content {
                scrollbar-width: thin !important;
                scrollbar-color: rgba(255, 255, 255, 0.3) transparent !important;
            }

            .modal-scrollable-content::-webkit-scrollbar {
                width: 6px !important;
                background: transparent !important;
            }

            .modal-scrollable-content::-webkit-scrollbar-track {
                background: transparent !important;
            }

            .modal-scrollable-content::-webkit-scrollbar-thumb {
                background: rgba(255, 255, 255, 0.3) !important;
                border-radius: 10px !important;
                transition: background 0.3s ease !important;
            }

            .modal-scrollable-content::-webkit-scrollbar-thumb:hover {
                background: rgba(255, 255, 255, 0.5) !important;
            }

            .modal-scrollable-content::-webkit-scrollbar-corner {
                background: transparent !important;
            }

            /* Global Minimal White Scrollbar for All Pages */
            * {
                scrollbar-width: thin !important;
                scrollbar-color: rgba(255, 255, 255, 0.3) transparent !important;
            }

            *::-webkit-scrollbar {
                width: 6px !important;
                height: 6px !important;
                background: transparent !important;
            }

            *::-webkit-scrollbar-track {
                background: transparent !important;
            }

            *::-webkit-scrollbar-thumb {
                background: rgba(255, 255, 255, 0.3) !important;
                border-radius: 10px !important;
                transition: background 0.3s ease !important;
            }

            *::-webkit-scrollbar-thumb:hover {
                background: rgba(255, 255, 255, 0.5) !important;
            }

            *::-webkit-scrollbar-corner {
                background: transparent !important;
            }

            /* Body and HTML specific scrollbar */
            html,
            body {
                scrollbar-width: thin !important;
                scrollbar-color: rgba(255, 255, 255, 0.3) transparent !important;
            }

            html::-webkit-scrollbar,
            body::-webkit-scrollbar {
                width: 6px !important;
                background: transparent !important;
            }

            html::-webkit-scrollbar-track,
            body::-webkit-scrollbar-track {
                background: transparent !important;
            }

            html::-webkit-scrollbar-thumb,
            body::-webkit-scrollbar-thumb {
                background: rgba(255, 255, 255, 0.3) !important;
                border-radius: 10px !important;
                transition: background 0.3s ease !important;
            }

            html::-webkit-scrollbar-thumb:hover,
            body::-webkit-scrollbar-thumb:hover {
                background: rgba(255, 255, 255, 0.5) !important;
            }

            /* Hide scrollbars for movie/TV card containers while keeping them scrollable */
            .movie-container,
            .series-container,
            .anime-container,
            .similar-movies-container,
            .similar-tv-container,
            .trending-container,
            .popular-container,
            .top-rated-container,
            .scrollbar-hide,
            .similar-movies-grid,
            .similar-content {
                -ms-overflow-style: none !important;
                scrollbar-width: none !important;
            }

            .movie-container::-webkit-scrollbar,
            .series-container::-webkit-scrollbar,
            .anime-container::-webkit-scrollbar,
            .similar-movies-container::-webkit-scrollbar,
            .similar-tv-container::-webkit-scrollbar,
            .trending-container::-webkit-scrollbar,
            .popular-container::-webkit-scrollbar,
            .top-rated-container::-webkit-scrollbar,
            .scrollbar-hide::-webkit-scrollbar,
            .similar-movies-grid::-webkit-scrollbar,
            .similar-content::-webkit-scrollbar {
                display: none !important;
            }

            @keyframes modalGlassAppear {
                from {
                    opacity: 0;
                    transform: scale(0.9) translateY(20px);
                    backdrop-filter: blur(0px);
                }

                to {
                    opacity: 1;
                    transform: scale(1) translateY(0px);
                    backdrop-filter: blur(25px);
                }
            }

            @keyframes modalFadeIn {
                from {
                    opacity: 0;
                    transform: scale(0.9);
                }

                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }

            /* Prevent body scroll when modal is open */
            .modal-open {
                overflow: hidden;
            }

            /* Mobile Modal Button Improvements - Under 500px */
            @media (max-width: 500px) {

                /* Modal content padding adjustments */
                .modal-content .p-6.lg\\:p-8 {
                    padding: 16px;
                }

                /* Modal grid layout for mobile */
                .modal-content .grid.grid-cols-1.lg\\:grid-cols-3 {
                    grid-template-columns: 1fr;
                    gap: 20px;
                }

                /* Modal poster size adjustment */
                .modal-content .lg\\:col-span-1 img {
                    max-width: 200px;
                    margin: 0 auto;
                }

                /* Action buttons section - Make vertical on mobile */
                .modal-content .flex.space-x-4.pt-4 {
                    flex-direction: column !important;
                    gap: 12px !important;
                    padding-top: 20px;
                    margin-top: 20px;
                    border-top: 1px solid rgba(255, 255, 255, 0.1);
                }

                /* Remove horizontal spacing and add full width */
                .modal-content .flex.space-x-4.pt-4>* {
                    margin-left: 0 !important;
                    margin-right: 0 !important;
                    width: 100% !important;
                    justify-content: center !important;
                    text-align: center !important;
                }

                /* Keep header buttons inline with metadata */
                .modal-content .flex.items-center.flex-wrap .flex.items-center.space-x-2 {
                    margin-left: 0;
                }
            }
        </style>

        <!-- Professional Light Explosion Effect with Particles Styles -->
        <style>
            /* Light particle base styles */
            .light-particle {
                position: absolute;
                border-radius: 50%;
                opacity: 0;
                pointer-events: none;
                z-index: 1000;
                transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            }

            /* Gentle phase particles */
            .gentle-particle {
                background: radial-gradient(circle, rgba(229, 9, 20, 0.8) 0%, rgba(229, 9, 20, 0.4) 50%, transparent 100%);
                box-shadow: 0 0 6px rgba(229, 9, 20, 0.6);
                transition: all 2s ease-out;
            }

            /* Medium phase particles */
            .medium-particle {
                background: radial-gradient(circle, rgba(229, 9, 20, 0.9) 0%, rgba(255, 100, 100, 0.5) 50%, transparent 100%);
                box-shadow: 0 0 8px rgba(229, 9, 20, 0.7), 0 0 12px rgba(229, 9, 20, 0.3);
                transition: all 2.5s ease-out;
            }

            /* Intense phase particles */
            .intense-particle {
                background: radial-gradient(circle, rgba(229, 9, 20, 1) 0%, rgba(255, 50, 50, 0.6) 40%, rgba(255, 200, 200, 0.3) 70%, transparent 100%);
                box-shadow: 0 0 10px rgba(229, 9, 20, 0.8), 0 0 15px rgba(229, 9, 20, 0.4), 0 0 20px rgba(229, 9, 20, 0.2);
                transition: all 3s ease-out;
            }

            /* Explosion phase particles */
            .explosion-particle {
                background: radial-gradient(circle, rgba(255, 255, 255, 1) 0%, rgba(229, 9, 20, 0.9) 30%, rgba(255, 100, 100, 0.6) 60%, transparent 100%);
                box-shadow:
                    0 0 15px rgba(255, 255, 255, 0.8),
                    0 0 25px rgba(229, 9, 20, 0.8),
                    0 0 35px rgba(229, 9, 20, 0.4);
                transition: all 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            }

            /* Fade phase particles */
            .fade-particle {
                background: radial-gradient(circle, rgba(229, 9, 20, 0.7) 0%, rgba(229, 9, 20, 0.3) 50%, transparent 100%);
                box-shadow: 0 0 8px rgba(229, 9, 20, 0.5);
                transition: all 3s ease-out;
            }

            /* Enhanced text explosion effect */
            #typedText {
                transform-origin: center;
                transition: all 0.3s ease-out;
            }

            /* Typing container enhancement */
            #typingContainer {
                position: relative;
                overflow: visible;
            }

            /* Final elegant glow state */
            .completed-text {
                text-shadow:
                    0 0 15px rgba(229, 9, 20, 0.8),
                    0 0 30px rgba(229, 9, 20, 0.5),
                    0 0 45px rgba(229, 9, 20, 0.3),
                    0 0 60px rgba(229, 9, 20, 0.1),
                    2px 2px 4px rgba(0, 0, 0, 0.8);
                filter: brightness(1.3) contrast(1.1);
                transition: all 1s ease-out;
            }
        </style>

        <!-- Toast Script -->
        <script src="src/toast.js"></script>
        <script>
            // Development toast function
            function showDevToast(feature) {
                showInfo(`${feature} feature is currently in development. Stay tuned for updates! :PP`, {
                    title: 'ðŸš§ Coming Soon :PP',
                    duration: 4000
                });
            }
        </script>

    </div> <!-- End Main Content -->

    <!-- Loading Animation Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const loadingScreen = document.getElementById('loadingScreen');
            const mainContent = document.getElementById('mainContent');
            const logoContainer = document.getElementById('logoContainer');
            const typingContainer = document.getElementById('typingContainer');

            // Check if loading has already been shown in this tab session
            const hasLoadingBeenShown = sessionStorage.getItem('movieIGuessLoadingShown');

            if (hasLoadingBeenShown === 'true') {
                // Skip loading animation - show main content immediately
                loadingScreen.style.display = 'none';
                mainContent.style.opacity = '1';
                document.body.style.overflow = 'auto';

                // Add header logo glow effect immediately
                addHeaderLogoGlow();
                return;
            }

            // Mark that loading has been shown in this session
            sessionStorage.setItem('movieIGuessLoadingShown', 'true');

            // Prevent scrolling during loading
            document.body.style.overflow = 'hidden';

            // Animation timeline
            setTimeout(() => {
                // Show logo with scale animation
                logoContainer.style.transition = 'all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                logoContainer.style.opacity = '1';
                logoContainer.style.transform = 'scale(1)';

                // Add logo particle effects
                setTimeout(() => {
                    addLogoParticleEffect();
                }, 500);
            }, 300);

            setTimeout(() => {
                // Show typing container
                typingContainer.style.transition = 'opacity 0.5s ease-in-out';
                typingContainer.style.opacity = '1';

                // Start typing animation - clean professional typing
                var typed = new Typed('#typedText', {
                    strings: ['MovieI<span class="text-white">Guess</span>'],
                    typeSpeed: 30,
                    backSpeed: 0,
                    fadeOut: false,
                    loop: false,
                    showCursor: true,
                    cursorChar: '|',
                    onComplete: function () {
                        // Hide cursor and add professional light explosion effect
                        document.querySelector('.typed-cursor').style.display = 'none';
                        addProfessionalSparkleEffect();
                    }
                });
            }, 1200);

            // Hide loading screen and show main content after 5 seconds
            setTimeout(() => {
                // Fade out loading screen
                loadingScreen.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
                loadingScreen.style.opacity = '0';
                loadingScreen.style.transform = 'scale(1.1)';

                // Show main content
                mainContent.style.transition = 'opacity 1s ease-in-out';
                mainContent.style.opacity = '1';

                // Add header logo glow effect
                addHeaderLogoGlow();

                // Re-enable scrolling
                document.body.style.overflow = 'auto';

                // Remove loading screen from DOM after animation
                setTimeout(() => {
                    loadingScreen.remove();
                }, 800);
            }, 5000);
        });

        // Professional light explosion effect with particles - only after typing
        function addProfessionalSparkleEffect() {
            const container = document.getElementById('typingContainer');
            const textElement = document.getElementById('typedText');

            // Add smooth glow animation class
            textElement.classList.add('smooth-text-glow');

            // Create particles throughout the smooth animation
            createSmoothParticleFlow(container);

            // Final explosion after smooth buildup
            setTimeout(() => {
                explodeLightEffect(textElement, container);
            }, 3500);
        }

        // Create continuous particle flow during smooth animation
        function createSmoothParticleFlow(container) {
            // Create particles at different intervals for smooth flow
            const particleIntervals = [
                { delay: 200, count: 5, phase: 'gentle', radius: 0 },
                { delay: 600, count: 8, phase: 'gentle', radius: 15 },
                { delay: 1000, count: 10, phase: 'medium', radius: 25 },
                { delay: 1400, count: 12, phase: 'medium', radius: 35 },
                { delay: 1800, count: 15, phase: 'medium', radius: 45 },
                { delay: 2200, count: 18, phase: 'intense', radius: 55 },
                { delay: 2600, count: 20, phase: 'intense', radius: 65 },
                { delay: 3000, count: 25, phase: 'intense', radius: 75 }
            ];

            particleIntervals.forEach(interval => {
                setTimeout(() => {
                    createParticles(container, interval.count, interval.phase, interval.radius);
                }, interval.delay);
            });
        }

        function explodeLightEffect(textElement, container) {
            // Massive explosion of light
            textElement.style.transition = 'all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
            textElement.style.textShadow = `
            0 0 30px rgba(229, 9, 20, 1),
            0 0 60px rgba(255, 255, 255, 0.8),
            0 0 90px rgba(229, 9, 20, 0.8),
            0 0 120px rgba(255, 255, 255, 0.6),
            0 0 150px rgba(229, 9, 20, 0.6),
            0 0 200px rgba(255, 255, 255, 0.4),
            0 0 250px rgba(229, 9, 20, 0.3),
            4px 4px 8px rgba(0, 0, 0, 1)
        `;
            textElement.style.filter = 'brightness(1.8) contrast(1.4) saturate(1.2)';
            textElement.style.transform = 'scale(1.05)';

            // EXPLOSION PARTICLE BURST!
            createParticles(container, 35, 'explosion', 100);

            // Fade to elegant final state
            setTimeout(() => {
                fadeToFinalState(textElement, container);
            }, 300);
        }

        function fadeToFinalState(textElement, container) {
            // Elegant fade to beautiful final glow
            textElement.style.transition = 'all 1s ease-out';
            textElement.style.textShadow = `
            0 0 15px rgba(229, 9, 20, 0.8),
            0 0 30px rgba(229, 9, 20, 0.5),
            0 0 45px rgba(229, 9, 20, 0.3),
            0 0 60px rgba(229, 9, 20, 0.1),
            2px 2px 4px rgba(0, 0, 0, 0.8)
        `;
            textElement.style.filter = 'brightness(1.3) contrast(1.1)';
            textElement.style.transform = 'scale(1)';

            // Final gentle particles
            createParticles(container, 8, 'fade', 40);
        }

        function createParticles(container, count, phase, maxRadius = 60) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    createSingleParticle(container, phase, maxRadius);
                }, i * (phase === 'explosion' ? 20 : 80)); // Smoother particle spawning
            }
        }

        function createSingleParticle(container, phase, maxRadius = 60) {
            const particle = document.createElement('div');
            particle.className = `light-particle ${phase}-particle`;

            // Position particles in center-to-spread pattern
            const rect = container.getBoundingClientRect();
            const angle = Math.random() * 2 * Math.PI;

            // Start from center and gradually spread outward based on maxRadius
            const radius = phase === 'explosion' ?
                maxRadius + Math.random() * 80 :
                Math.random() * maxRadius;

            const centerX = rect.width / 2;
            const centerY = rect.height / 2;

            const x = centerX + Math.cos(angle) * radius;
            const y = centerY + Math.sin(angle) * radius;

            particle.style.left = x + 'px';
            particle.style.top = y + 'px';

            // Set particle properties based on phase
            const size = getParticleSize(phase);
            particle.style.width = size + 'px';
            particle.style.height = size + 'px';

            container.appendChild(particle);

            // Animate particle based on phase
            animateParticle(particle, phase);

            // Remove particle after animation
            const duration = getParticleDuration(phase);
            setTimeout(() => {
                if (particle.parentNode) {
                    particle.parentNode.removeChild(particle);
                }
            }, duration);
        }

        function getParticleSize(phase) {
            switch (phase) {
                case 'gentle': return 2 + Math.random() * 3;
                case 'medium': return 3 + Math.random() * 4;
                case 'intense': return 4 + Math.random() * 5;
                case 'explosion': return 5 + Math.random() * 8;
                case 'fade': return 2 + Math.random() * 4;
                default: return 3;
            }
        }

        function getParticleDuration(phase) {
            switch (phase) {
                case 'gentle': return 2000;
                case 'medium': return 2500;
                case 'intense': return 3000;
                case 'explosion': return 1500;
                case 'fade': return 3000;
                default: return 2000;
            }
        }

        function animateParticle(particle, phase) {
            const randomDelay = Math.random() * 200;

            setTimeout(() => {
                particle.style.opacity = '1';

                if (phase === 'explosion') {
                    // Explosive outward movement
                    const moveDistance = 40 + Math.random() * 60;
                    const currentX = parseFloat(particle.style.left);
                    const currentY = parseFloat(particle.style.top);
                    const angle = Math.random() * 2 * Math.PI;

                    particle.style.transform = `translate(${Math.cos(angle) * moveDistance}px, ${Math.sin(angle) * moveDistance}px) scale(1.5)`;

                    // Quick fade after explosion
                    setTimeout(() => {
                        particle.style.opacity = '0';
                        particle.style.transform += ' scale(0.5)';
                    }, 300);
                } else {
                    // Gentle floating movement
                    const floatDistance = phase === 'intense' ? 30 : 20;
                    particle.style.transform = `translateY(-${floatDistance}px) scale(1.2)`;

                    // Gradual fade
                    setTimeout(() => {
                        particle.style.opacity = '0';
                        particle.style.transform += ' scale(0.8)';
                    }, getParticleDuration(phase) * 0.6);
                }
            }, randomDelay);
        }

        // Logo particle effects and light shadow
        function addLogoParticleEffect() {
            const logoContainer = document.getElementById('logoContainer');
            const logoImg = logoContainer.querySelector('img');

            // Make logo container relative for better particle positioning
            logoContainer.style.position = 'relative';

            // Add smooth glow animation class
            logoImg.classList.add('smooth-logo-glow');

            // Create smooth particle flow for logo
            createSmoothLogoParticleFlow(logoContainer);
        }

        // Create continuous particle flow for logo during smooth animation
        function createSmoothLogoParticleFlow(container) {
            const logoParticleIntervals = [
                { delay: 300, count: 8, phase: 'gentle' },
                { delay: 800, count: 12, phase: 'medium' },
                { delay: 1300, count: 16, phase: 'medium' },
                { delay: 1800, count: 20, phase: 'intense' },
                { delay: 2300, count: 24, phase: 'intense' }
            ];

            logoParticleIntervals.forEach(interval => {
                setTimeout(() => {
                    createLogoParticles(container, interval.count, interval.phase);
                }, interval.delay);
            });
        }

        function createLogoParticles(container, count, phase) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    createSingleLogoParticle(container, phase);
                }, i * 60); // Smoother particle spawning
            }
        }

        function createSingleLogoParticle(container, phase) {
            const particle = document.createElement('div');
            particle.className = `logo-particle ${phase}-logo-particle`;

            // Position particles around the logo using transform for better performance
            const angle = Math.random() * 2 * Math.PI;
            const radius = 40 + Math.random() * 60;
            const centerX = container.offsetWidth / 2;
            const centerY = container.offsetHeight / 2;

            const x = centerX + Math.cos(angle) * radius;
            const y = centerY + Math.sin(angle) * radius;

            particle.style.position = 'absolute';
            particle.style.left = '50%';
            particle.style.top = '50%';
            particle.style.transform = `translate(-50%, -50%) translate(${Math.cos(angle) * radius}px, ${Math.sin(angle) * radius}px)`;
            particle.style.pointerEvents = 'none';
            particle.style.zIndex = '1';

            // Set particle properties with better performance
            const size = 2 + Math.random() * 4;
            particle.style.width = size + 'px';
            particle.style.height = size + 'px';
            particle.style.borderRadius = '50%';
            particle.style.background = `radial-gradient(circle, rgba(229, 9, 20, 0.8), rgba(255, 255, 255, 0.4))`;
            particle.style.boxShadow = `0 0 ${size * 2}px rgba(229, 9, 20, 0.6)`;
            particle.style.opacity = '0';
            particle.style.transition = 'all 3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
            particle.style.willChange = 'transform, opacity';

            container.appendChild(particle);

            // Animate particle with smoother motion
            setTimeout(() => {
                particle.style.opacity = '1';
                const floatDistance = 20 + Math.random() * 40;
                const floatAngle = angle + (Math.random() - 0.5) * 0.5;
                particle.style.transform = `translate(-50%, -50%) translate(${Math.cos(angle) * radius}px, ${Math.sin(angle) * radius}px) translateY(-${floatDistance}px) scale(1.5)`;

                // Fade out with smooth scaling
                setTimeout(() => {
                    particle.style.opacity = '0';
                    particle.style.transform += ' scale(0.3)';
                }, 2000);
            }, Math.random() * 300);

            // Remove particle
            setTimeout(() => {
                if (particle.parentNode) {
                    particle.parentNode.removeChild(particle);
                }
            }, 3500);
        }

        // Also add subtle glow to header logo
        function addHeaderLogoGlow() {
            const headerLogo = document.querySelector('header img[alt="Nebula Logo"]');
            if (headerLogo) {
                headerLogo.style.filter = `
                drop-shadow(0 0 8px rgba(229, 9, 20, 0.4))
                drop-shadow(0 0 16px rgba(229, 9, 20, 0.3))
                brightness(1.1)
            `;
                headerLogo.style.transition = 'filter 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                headerLogo.style.willChange = 'filter';

                // Add hover effect with smoother transitions
                headerLogo.addEventListener('mouseenter', () => {
                    headerLogo.style.filter = `
                    drop-shadow(0 0 12px rgba(229, 9, 20, 0.6))
                    drop-shadow(0 0 24px rgba(229, 9, 20, 0.4))
                    drop-shadow(0 0 36px rgba(229, 9, 20, 0.3))
                    brightness(1.2)
                `;
                });

                headerLogo.addEventListener('mouseleave', () => {
                    headerLogo.style.filter = `
                    drop-shadow(0 0 8px rgba(229, 9, 20, 0.4))
                    drop-shadow(0 0 16px rgba(229, 9, 20, 0.3))
                    brightness(1.1)
                `;
                });
            }
        }
    </script>

</body>

</html>